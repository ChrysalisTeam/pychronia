
TODO LIST CHRYSALIS
=========================


PARTIE EN COURS
==================
- mission d'espionnage des obérons d'Amethyst à l'académie d'alifir : à continuer

Avis à tous les membres de l'Académie, et affiliés.
Nous venons d'apprendre que la Faculté d'Imuo allait sortir d'ici peu
une Intelligence Artificelle de jeu d'échecs, qu'ils qualifient de
"révolutionnaire".
Si tel était vraiment le cas, ce serait un coup dur pour la
crédibilité de notre Académie, qui a toujours été en pointe dans ce
domaine.


GAMEMASTER_HINTS:

	- characters
	- contacts
	- templates
	- radio spots
	- items
	- static pages


FUTURE BUGS
================
- change last_acccess_time... typo IN MAIN DB
- PB, serveurs webfactions sont en UTC !!!
- typo "quelques" dans email analyse de situation initiale (partie "anthropia")



FEATURES
------------


- manually test gems/money transfers and payments, as well as corresponding logging !!!!
- test log_game_event() visibility lists



- put in black unread conversations too in their index!



- put official name in all user-related SELECTS
- Select_lists with externals contacts in messaging wiretapping etc.

- disable auto play on VLC media (phoque.avi)

- Envoyer email quand argent recu par un joueur, avec raison <- NO, EVENT LOG

- envoi de mail quotidien !!

- systeme pour créer partie !!

- autofolding des emails lus






SCRIPT
----------

- cacher compétences spéciales pour PNJ <- personal permissions EVERYWHERE

- explain about static page "titles" usage

- update abilities settings and prices

- mon compte (PAS "profile personnel"), ou Mon profil
- pas GREFFON <- modules supplémentaires, externes, complémentaires ; proposé par d'autres académies des entreprises ou autres entitées ne dépendant pas de notre académie


ARTICLES MANQUANTS
- académie alifir (et image deans)

- les notifications doivent etre plus explicites dans leur contenu

- préciser que "indéfini" est normal <- inconnu, vous n'avez pas l'autorisation
- préciser que geolocalisation est EXTERNE (pas mettre pseudo d'espion!!)

- faire CHRONOLOGIE détaillée des évènements pour aider énigmes

- message answer does NOT mark "read" the parent message - YEP, à documenter

Toutes ces gemmes peuvent etre vendues à leur prix de reference sur le marché international, dont le cours est tres stable actuellement. Il parait d'ailleurs que notre portail Anthropia va etre connecté sous peu à une place des ventes.

Ces lots sont volumineux, mais rien ne vous interdit de vous entendre pour en acheter en commun, puis vous repartir les gemmes individuelles ensuite.


- add GAME_IMAGE_URL in help pages

- manual for TTS acapela !!

- add all avatar images

- journée de rame en aval de ENDROIT_PRECIS_XXXX??. <TODO>

- add main missing items (WIP)
- add enough content for game startup
- ajouter des details cruciaux à TOUTES runes !

Faire page d'introduction
	- situation de l'univers
	- situation géopolitique
	- bestaire des ennemis ?

- add description of partners in instruction page !

- clarifier règles absolues : pas de vol d'argent, pas de triche, emails uniquement valables à l'intérieur du site (dans INTRO "out game" du jeu)


- ajouter instructions ou systèmes pour éviter abus de mercenaires ? -> distribution progressive d'argent, à detailler

- ajouter <instructions> possibilité échange objets archéologiques et lots entiers de gemmes (gamemaster must be aware of that)!



PROMOTION
--------------

- change facebook logo and put background image on it



TESTS
----------

- test localstorage in PROD
- test broken notify_chess_player_victory()
# TODO - test that messages are well propagated through session
# TODO - test interception of "POST" when impersonating user
- test DISPLAY_STATIC_CONTENT handling
- test message compose form and attachments, it's VERY sensitive
- test proper hiding (or not) of characters' belongings depending on permissions, in characters page
- test all views eg. encrypted folders!
- auto test all forms with also inspect.getsourcelines(object) (for UNINSTANTIABLE_ERROR) etc.
- add tests for gameform instantiation
- add tests for each ADMIN_ACTION available
- launch pychecker or pylint on each file of pychronia_game package
- check that no pb when game paused, for periodic processing (eg. old pending emails are not viewable because not sent...)


NEEDS COSMETICS
-----------------

- add "centering" for images in DJANGOCMS



TASKS DONE
---------------

- chatroom : ajouter time tags (ou séparateurs) - DONE
- if response to email, don't keep attachement - DONE
- tri par tags des templates email - DONE
- note characters ones are NPCs and allow to change it - DONE
- tweak font size in personal files INDEX - DONE
- allow to grab sources of any RST sample, for game master - DONE
- use kinds of "forms sets" for mass character edits - DONE
- add form to change autoresponse of abilities - DONE
- test get_other_known_characters - DONE
- sort gems in forms and displays - DONE
- resize display of "bidders" page's forms - DONE
- fix broken "save_current_content()" feature of message compose form - DONE
- refactor bad item-related wordings in runic translation - DONE
- add optional title to all static pages - DONE
- test static page viewer, and add its link to management forms - DONE
- add "show single static page" view - DONE
- emails de/pour NPCs concernent game master (change visibility_reason) - DONE
- added periods to wordings like "You've proposed a friendship to that user" - DONE
- improve display of gems list with ¤ in view_characters, thanks to "list_append_to_each" filter - DONE
- Mettre session ticket dans request.meta, pour debugging des http500 - DONE
- let access to enyclopedia search even when game is readonly - DONE
- pour MJ : marqué intercepté par qui, les emails - DONE
- autoriser accents et espaces dans les tags (mots clefs) automatiques de encyclopedia - DONE
- dans preview_message, utiliser format_enriched_text, pas advanced_restructuredtext - DONE
- trier articles séparément des help et top/bottom, dans static pages - DONE
- remove django debug toolbar from pychronia_game conf - DONE
- fix fragment # in links of staticpage/radiospot/globalcontact management forms - DONE
- list keywords of articles for master, in encyclopedia - DONE
- eviter bugs graphiques quand dezoom des contacts emails sur site, et newline quand on les sélectionne - DONE
- mettre en gras les non-lus dans liste d'emails du master - DONE
- montrer gamemaster hints dans contacts - DONE
- enlever sauts de ligne avant TTS radio - DONE
- pas "indéfini" mais "Inconnu" dans character details - DONE
- fix display of missing addresses, in email templates - DONE
- garder nom officiel près de description de contacts - DONE
- remettre NPCs dans "senders" of emails for master - DONE

- fix abnormal visibility of NPCs in "friendship management" view - DONE
- change is_read status of ability request messages depending on "disable_automated_ability_responses" - DONE
- allow brackets around mailing-list adresses DONE
- check proper locale for date formatting and check "utctolocal" presence - DONE
- add possibility to change fake official names and roles in admin "character management" page - DONE
- check email address format on all new senders/recipients DONE
- mark "gems groups" as mere "memos" in personal_items and view_characters pages (but not "all items" page) DONE
- add auto-title to help pages DONE
- put full lengh url in shareable links, with site-url, and remove personal folders links - DONE
- add field gamemaster_hints to static management of pages DONE
- playlist management  add simple click DONE
- add COLON marker to django templates (not yet propagated to existing strings) DONE
- add smooth scroll for non-forefox browsers (jquery plugins don't work, fixed manually in own script) DONE
- add gamemaster_hints to all the kinds of static blocks DONE
- merge "help_pages" and "content" static page categories into same category DONE
- check that character and item gamemaster_hints are well displayed and protected DONE
- add avatars to characters view DONE
- add avatar display to immutable blocks in contacts management
- add slight typography via docutils/RST - DONE
- remove "logout" link when impersonation by super user DONE
- add "transfer" functionality to messaging system DONE
- fix width-100% and br in forms.as_p, thanks to labels with display:"block" - DONE
- IMPORTANT - hide explicit message ids visible by players thanks to _obfuscate_initial_id - DONE
- add "compose" links to contact displays, conditionnally, as well as user colors DONE
- add smart avatar display in messaging DONE
- users mustnt have all characters in their contacts by default, only real contacts - DONE
- fix unfound translatable strings (_lazy and _noop) DONE
- "Access denied to page" must redirect to HOMEPAGE, else master gets "login page" when stopping impersonation - DONE
- fix captcha, static blocks must NOT appear when captcha is WIP - DONE
- chess challenge didn't respect "writability" of game DONE
- encyclopedia index MUST be visible always for game master - ALREADY THE CASE
- mark USED templates as so, in displayed view DONE
- fix TOC pagebreak pb in game master manual (remove blank page with pdftkall) DONE
- use light jpegs for game master manual background DONE
- merge help_pages and content (all are the same...)
- remove djinns for now (will come back later)
- adjust display of game items' fields "auction", "hints" etc. DONE
- translate pychronia_common and pychronia_cms stuffs too DONE
- add basic file logging config DONE
- connect and test VAAS prod account DONE
- fix initial data of GemsTransferForm, duplicated gems are selected... like in GemPayementFormMixin - DONE
- improve auto file path completion to deal with GLOBs - DONE
- wrap empty abilities with nightmare captchas DONE
- nasty bug in chatroom, concurrency error between ajax calls and writability setting enforcement DONE
- in chatroom, "communication problems" message when leaving page, we need some tolerance DONE
- add black&white version of world map for download DONE
- exclude NPC from all_characters_ml (renamed to all_auction...) DONE
- use relevant_title property in menu generation - DONE
- hide other's objects by default and allow to buy the ability of seeing them DONE
- fix parallax scrolling under chrome and IE DONE
- add rough tests for admin dahsboard system (was buggy) DONE
- obfuscate message ids and groups ids and transferred ids in initial fixtures DONE
- add "all messages" button to conversations page (else, by default, display only 15 last ones) DONE
- add break_left and break_right to encyclopedia article page !!! DONE
- test template helpers DONE
- add tests for advanced permissions, eg. is_action_permitted_for_user() and EXTRA_PERMISSIONS - DONE
- handle concurrency retries and errors on ZODB decorators DONE
- test AccessDenied errors etc., there was a nasty type error with httpresponse DONE
- fix djinn bots critical errors
- fix menus, especially top-level entries DONE
- fix item_display's max_height, too small DONE
- make scripts for ZODB reset in integration (DEBUG=FALSE) - DONE with runner.py already
- implement reset of players passwords when asked for DONE
- add contact_email system in abilities, autochecked DONE
- IMPORTANT, add auro gems form controls EVERYWHERE DONE
- test good handling of flexible time in "time limiting action middleware"ALREADY DONE
- ensure that submitted forms goes through __common_instant... in GameView DONE
- make bugreport address ("myeimai@sfr.com") properly configurable DONE
- fix top notifications DONE
- add direct access links in static pages and emails ? DONE
- rudimentary ability of transferring emails DONE
- make rune translator CONSTANT (with a seed) DONE
- make tooltips slower to appear DONE
- rune translation must work WITHOUT owning the object itself, by checking closest match DONE
- interactive world map DONE
- drag&drop radio playlist management DONE
- filling of footer with game info DONE
- global management of ajax errors, with popups DONE
- add protections to ensure that all file requests never leave GAME_FILES_ROOT - ALREADY OK
- ACCESS CONTROL ON HELP PAGES -> ALREADY DONE
- separate tests for try_processing_formless_game_action system DONE
- fix wong ordering of overrides in visible_by dict of _immediately_dispatch_message() DONE
- SSL protection to be added to wiretapping page DONE
- fix admin dashboard: special widgets (like multicheckbox) !! DONE (no more ajax ATM)
- replace page_title by klass.TITLE in main template (or as fallback) - DONE
- admin-form to activate views DONE
- swallow UninstantiableFormError by default in form instantiation
- ability for users to transfer their objects to someone else DONE
- add autolinks for email addresses in rich texts DONE
- add preview of composed message in ajax frame DONE (but ugly css)
- test determine_actual_game_writability() and such DONE
- add auto-generation of ActionHandler help pages (via action middlewares) DONE
- BUG The requested content cannot be loaded. Please try again later. (if markitup empty sent to preview) DONE
- dataset.size not defined on first launch of world map - Bug report filed, disabling jnotify reports is a workaround
- bug report : Application error (please consider reporting that bug) - ReferenceError: False is not defined DONE
- bad assert self.datamanager.is_in_transaction() in res = self.execute_game_action_callback(***) DONE
- add a way to DESTROY sent messages by game master, in case of trouble DONE
- adding of impersonation controls to site top WIP (needs JS code) DONE
- filling of headers with game info and notifications DONE
- messaging reply/resend + templates DONE
- adding novelty tags ALMOST everywhere (menu, radio and help icons...) DONE
- adding of impersonation target widget for characters (but niot writability) DONE
- review all always_writable views DONE
- refactoring of loggers, at top and DM level DONE
- normalize all setup methods to make game file paths absolute inside GAME_FILES_ROOT DONE
- mobile version of site (-> refactor base_mobile to mimic base_web structure) - NO, ATM SIMPLE SUMMARY PAGE - DONE
- javascript-obfuscated-popuped "report bug" div in mini footer DONE
- add inner site links to restructuredtext via special tag DONE
- add summary of freindships to "character settings" page, for master DONE
- add admin form to enable or not encyclopedia index DONE
- world scan_form entry is dead : assert NewFormClass, new_action_name DONE
- refactor permission handling, to be able to add it for money/item viewing for example. DONE
- add form to control some global conf: game_theoretical_length_days, game_is_started, friendship_minimum_duration_mn DONE
- use {{ _("")|escapejs }} in JS everywhere instead of trans tag  DONE
- remove dumb escape() calls from $.get request arguments DONE
- tweak access checking of gameviews, so that if impersonation we get no error message - USELESS, good as is
- check what happens when calling setlanguage flags from a "POST-access-only" page like private files - DONE all is OK
- make access error msgs persist until login page, when redirecting DONE
- html injection dans chat.js ? NOPE it's OK !
- add colors specific to each chatter + "system" chatter DONE
- add critical logging for some cases where no usage error should be raised !! (eg wiretapping) DONE
- add periodic retrieval of chatters in chat !! DONE
- recode in simple html the door unlocker ! DONE
- add better management of ajax errors (read/unread mails, oracle answers...) DONE
- make wiretapping and agent hiring per-player DONE
- ajouter aide déroulante dans chaque section DONE
- refaire carte en découpant mieux pays DONE
- add "next" (url) argument to login page
- add "ALL USERS" group email
- enrich choices of messaging forms fields (djangoselect2) DONE
- add special logger, carrying in context the game instance id etc.
- rename messy webradio-related django views DONE
- add gameurl tag to rst of pychronia_game DONE
- freeze controls in readonly mode DONE
- fix buggy main menu DONE
- fix gerbil link of encyclopedia when impersonating guy1 DONE
- Remove system error messages in RST renders, except in preview popup! DONE
- investigate in messaging : [CRITICAL] root: utctolocal filter failed adding str + datetime [COULDN'T REPRODUCE, not critical]
- fix compose trouble: attachments submitted must be full urls,and displayed as is - DONE
- handle wrong msigid in view single message DONE
- interface to edit static pages DONE
- interface to edit radio spots DONE
- interface to edit external contacts DONE
- global page styles and messages for readonly DONE
- fix _get_middleware_data_explanations() for time limited -> must convert delays to flexible time DONE
- set line height on drop caps DONE
- http://test.prolifik.net/cms/historique/?edit <- fancybox broken DONE




FUTUR ENHANCEMENTS
--------------------------

- dire quand AUTRE perso (ami) a nouveaux messages/autres ?
- make impersonation per-browser-tab!
- radio spots must show only title in playlist edition
- allow to edit all characters at once in characters management
- make all gamemaster_hints editable
- randomize master login in PlayerAuthentication._load_initial_data()
- enforce placeholder detection ({{ PUT NAME HERE }}) everywhere, not only in message sending form.
- restaurer et compléter les djinns, valeurs par défaut si pas de réponses surtout
- add answer to ALL captchas ?
- add and describe faction-inherited permissions
- display admin tips, enigmas and other data in each competence (only visible in DB dump currently)
- restore "personal messages" feature for gamemaster
- display admin tips with UserAccess and all kinds of permissions required
- Todo info bulle too put brackets around them WIP
- add typographhy fixer like in https://code.google.com/p/markdown-typografix/source/browse/mdx_typografix/__init__.py
- fix shaky forms when floated left in number
- improve compatibility with IE 10+ (menus are buggy)
- add forms to administrator page (change game state, delete game etc.)
- reorganize top headers of game (motto left=real, motto right=impersonation, carvings= GAME DATA)
- CMS : stop float pbs when EDIT=ON, on main frames (use clearfix) - should be OK actually
- ensure game events logs are translated to OFFICIAL game language!!!
- fix up/down keys when a "select" field is selected (must not scroll page)
- add money and gems to page top headers
- grant/revoke private_contact_access_to_character (ex. mercenaries)
- securize "_action_" form-less system, since it bypasses input data validation
- add "stop impersonation" link in menu ?
- allow multi-instance staff impersonation, so that superuser can remain logged everywhere
- better menus for meta admin pages
- better handling of 503 (maintenance) state on both cms and instance
- convert "orbe" to masculine genre ; replace acharis by akharis
- add automated "geoip localization" ability
- memorize "real player authentications", to know who really hacks accounts
- make real "attach to" feature to delegate permissions (ex. for dependent ajax views)
- rethink and repair telecom archive investigation
- add to specific index any (external) visualized document in "personal files"
- setup all select choices with a default empty choice
- add RST summary to all forms, especially admin ones ??? not needed right ATM
- messaging templates filtering by taxonomy ?
- put back accordeon toggles in messaging
- allow accumulation of visibility reasons, to have both sender and recipient together in msg for same user? useless I guess...
- idea of captcha: play with colors illusions!!
- include timezone handling
- use UsageError in all getters of datamanager instead of keyerror?
- include tiny webradio widget in div with same color, and make it bigger, to avoid zoom/dezoom problems.
- internationalize personal documents (all in yaml ??)
- switch to small JALICE bot? humz
- other items needing to be editable:
	- items, gems & artefacts ?
	- nightmare captcha ?
- make better use of titles, of '#' anchors (with id or name of tags)...
- normalize is_character as both bool and method, in DM and User instances
- improve wiretapping - must not be only on characters, but also external emails
- add standard 404 and 500 templates, + custom 403 in latest django etc.


ELITE RPG:
eclectic <-------- BEST
enchanting -> bewitching, captivating, enthralling, entrancing, fascinating
enrapturing
enlightening/edifying



















