
TODO LIST CHRYSALIS
=========================



FEATURES
------------

- add smooth scroll

- add gamemaster_hints to help pages etc.

- update abilities settings


SCRIPT
----------

- add all avatar images
- refactor game master manual's hierarchy
- add main missing items (WIP)
- journée de rame en aval de ENDROIT_PRECIS_XXXX??. <TODO>
- talk about encrypted folders in manual
- mark in manual that prices are "for information only"
- comment that "new message" sounds are not enqueuable manually, in help page
- add enough content for game startup
- add scale to map (in static comments!!)
- Add the captcha system to some special static pages - WHICH ??
- compléter les djinns, valeurs par défaut si pas de réponses surtout !

Faire page d'introduction
	- situation de l'univers
	- situation géopolitique
	- bestaire des ennemis ?

- ajouter des details cruciaux à TOUTES runes !
- clarifier règles absolues : pas de vol d'argent, pas de triche, emails uniquement valables à l'intérieur du site
- add description of partners in instruction page !
- ajouter instructions ou systèmes pour éviter abus de mercenaires ?
- LG donne reductions aux gens, qu'ils peuvent perdre s'ils sont démasqués
- ajouter <instructions> possibilité échange objets archéologiques et lots entiers de gemmes (gamemaster must be aware of that)!



TESTS
----------

- check proper locale for date formatting and check "utctolocal" presence - DONE
- test DISPLAY_STATIC_CONTENT handling
- test message compose form and attachments, it's VERY sensitive
- test proper hiding (or not) of characters' belongings depending on permissions, in characters page
- test all views eg. encrypted folders!
- auto test all forms with also inspect.getsourcelines(object) (for UNINSTANTIABLE_ERROR) etc.
- add tests for gameform instantiation
- add tests for each ADMIN_ACTION available
- launch pychecker or pylint on each file of pychronia_game package
- check that no pb when game paused, for periodic processing


NEEDS COSMETICS
-----------------

- add "centering" for images in DJANGOCMS



TASKS DONE
---------------

- mmerge "help_pages" and "content" static page categories into same category DONE
- check that character and item gamemaster_hints are well displayed and protected DONE
- add avatars to characters view DONE
- add avatar display to immutable blocks in contacts management
- add slight typography via docutils/RST - DONE
- remove "logout" link when impersonation by super user DONE
- add "transfer" functionality to messaging system DONE
- fix width-100% and br in forms.as_p, thanks to labels with display:"block" - DONE
- IMPORTANT - hide explicit message ids visible by players thanks to _obfuscate_initial_id - DONE
- add "compose" links to contact displays, conditionnally, as well as user colors DONE
- add smart avatar display in messaging DONE
- users mustnt have all characters in their contacts by default, only real contacts - DONE
- fix unfound translatable strings (_lazy and _noop) DONE
- "Access denied to page" must redirect to HOMEPAGE, else master gets "login page" when stopping impersonation - DONE
- fix captcha, static blocks must NOT appear when captcha is WIP - DONE
- chess challenge didn't respect "writability" of game DONE
- encyclopedia index MUST be visible always for game master - ALREADY THE CASE
- mark USED templates as so, in displayed view DONE
- fix TOC pagebreak pb in game master manual (remove blank page with pdftkall) DONE
- use light jpegs for game master manual background DONE
- merge help_pages and content (all are the same...)
- remove djinns for now (will come back later)
- adjust display of game items' fields "auction", "hints" etc. DONE
- translate pychronia_common and pychronia_cms stuffs too DONE
- add basic file logging config DONE
- connect and test VAAS prod account DONE
- fix initial data of GemsTransferForm, duplicated gems are selected... like in GemPayementFormMixin - DONE
- improve auto file path completion to deal with GLOBs - DONE
- wrap empty abilities with nightmare captchas DONE
- nasty bug in chatroom, concurrency error between ajax calls and writability setting enforcement DONE
- in chatroom, "communication problems" message when leaving page, we need some tolerance DONE
- add black&white version of world map for download DONE
- exclude NPC from all_characters_ml (renamed to all_auction...) DONE
- use relevant_title property in menu generation - DONE
- hide other's objects by default and allow to buy the ability of seeing them DONE
- fix parallax scrolling under chrome and IE DONE
- add rough tests for admin dahsboard system (was buggy) DONE
- obfuscate message ids and groups ids and transferred ids in initial fixtures DONE
- add "all messages" button to conversations page (else, by default, display only 15 last ones) DONE
- add break_left and break_right to encyclopedia article page !!! DONE
- test template helpers DONE
- add tests for advanced permissions, eg. is_action_permitted_for_user() and EXTRA_PERMISSIONS - DONE
- handle concurrency retries and errors on ZODB decorators DONE
- test AccessDenied errors etc., there was a nasty type error with httpresponse DONE
- fix djinn bots critical errors
- fix menus, especially top-level entries DONE
- fix item_display's max_height, too small DONE
- make scripts for ZODB reset in integration (DEBUG=FALSE) - DONE with runner.py already
- implement reset of players passwords when asked for DONE
- add contact_email system in abilities, autochecked DONE
- IMPORTANT, add auro gems form controls EVERYWHERE DONE
- test good handling of flexible time in "time limiting action middleware"ALREADY DONE
- ensure that submitted forms goes through __common_instant... in GameView DONE
- make bugreport address ("myeimai@sfr.com") properly configurable DONE
- fix top notifications DONE
- add direct access links in static pages and emails ? DONE
- rudimentary ability of transferring emails DONE
- make rune translator CONSTANT (with a seed) DONE
- make tooltips slower to appear DONE
- rune translation must work WITHOUT owning the object itself, by checking closest match DONE
- interactive world map DONE
- drag&drop radio playlist management DONE
- filling of footer with game info DONE
- global management of ajax errors, with popups DONE
- add protections to ensure that all file requests never leave GAME_FILES_ROOT - ALREADY OK
- ACCESS CONTROL ON HELP PAGES -> ALREADY DONE
- separate tests for try_processing_formless_game_action system DONE
- fix wong ordering of overrides in visible_by dict of _immediately_dispatch_message() DONE
- SSL protection to be added to wiretapping page DONE
- fix admin dashboard: special widgets (like multicheckbox) !! DONE (no more ajax ATM)
- replace page_title by klass.TITLE in main template (or as fallback) - DONE
- admin-form to activate views DONE
- swallow UninstantiableFormError by default in form instantiation
- ability for users to transfer their objects to someone else DONE
- add autolinks for email addresses in rich texts DONE
- add preview of composed message in ajax frame DONE (but ugly css)
- test determine_actual_game_writability() and such DONE
- add auto-generation of ActionHandler help pages (via action middlewares) DONE
- BUG The requested content cannot be loaded. Please try again later. (if markitup empty sent to preview) DONE
- dataset.size not defined on first launch of world map - Bug report filed, disabling jnotify reports is a workaround
- bug report : Application error (please consider reporting that bug) - ReferenceError: False is not defined DONE
- bad assert self.datamanager.is_in_transaction() in res = self.execute_game_action_callback(***) DONE
- add a way to DESTROY sent messages by game master, in case of trouble DONE
- adding of impersonation controls to site top WIP (needs JS code) DONE
- filling of headers with game info and notifications DONE
- messaging reply/resend + templates DONE
- adding novelty tags ALMOST everywhere (menu, radio and help icons...) DONE
- adding of impersonation target widget for characters (but niot writability) DONE
- review all always_writable views DONE
- refactoring of loggers, at top and DM level DONE
- normalize all setup methods to make game file paths absolute inside GAME_FILES_ROOT DONE
- mobile version of site (-> refactor base_mobile to mimic base_web structure) - NO, ATM SIMPLE SUMMARY PAGE - DONE
- javascript-obfuscated-popuped "report bug" div in mini footer DONE
- add inner site links to restructuredtext via special tag DONE
- add summary of freindships to "character settings" page, for master DONE
- add admin form to enable or not encyclopedia index DONE
- world scan_form entry is dead : assert NewFormClass, new_action_name DONE
- refactor permission handling, to be able to add it for money/item viewing for example. DONE
- add form to control some global conf: game_theoretical_length_days, game_is_started, friendship_minimum_duration_mn DONE
- use {{ _("")|escapejs }} in JS everywhere instead of trans tag  DONE
- remove dumb escape() calls from $.get request arguments DONE
- tweak access checking of gameviews, so that if impersonation we get no error message - USELESS, good as is
- check what happens when calling setlanguage flags from a "POST-access-only" page like private files - DONE all is OK
- make access error msgs persist until login page, when redirecting DONE
- html injection dans chat.js ? NOPE it's OK !
- add colors specific to each chatter + "system" chatter DONE
- add critical logging for some cases where no usage error should be raised !! (eg wiretapping) DONE
- add periodic retrieval of chatters in chat !! DONE
- recode in simple html the door unlocker ! DONE
- add better management of ajax errors (read/unread mails, oracle answers...) DONE
- make wiretapping and agent hiring per-player DONE
- ajouter aide déroulante dans chaque section DONE
- refaire carte en découpant mieux pays DONE
- add "next" (url) argument to login page
- add "ALL USERS" group email
- enrich choices of messaging forms fields (djangoselect2) DONE
- add special logger, carrying in context the game instance id etc.
- rename messy webradio-related django views DONE
- add gameurl tag to rst of pychronia_game DONE
- freeze controls in readonly mode DONE
- fix buggy main menu DONE
- fix gerbil link of encyclopedia when impersonating guy1 DONE
- Remove system error messages in RST renders, except in preview popup! DONE
- investigate in messaging : [CRITICAL] root: utctolocal filter failed adding str + datetime [COULDN'T REPRODUCE, not critical]
- fix compose trouble: attachments submitted must be full urls,and displayed as is - DONE
- handle wrong msigid in view single message DONE
- interface to edit static pages DONE
- interface to edit radio spots DONE
- interface to edit external contacts DONE
- global page styles and messages for readonly DONE
- fix _get_middleware_data_explanations() for time limited -> must convert delays to flexible time DONE
- set line height on drop caps DONE
- http://test.prolifik.net/cms/historique/?edit <- fancybox broken DONE


FUTUR ENHANCEMENTS
--------------------------

- fix shaky forms when floated left in number
- improve compatibility with IE 10+ (menus are buggy)
- add forms to administrator page (change game state, delete game etc.)
- reorganize top headers of game (motto left=real, motto right=impersonation, carvings= GAME DATA)
- CMS : stop float pbs when EDIT=ON, on main frames (use clearfix) - should be OK actually
- ensure game events logs are translated to OFFICIAL game language!!!
- fix up/down keys when a "select" field is selected (must not scroll page)
- add money and gems to page top headers
- grant/revoke private_contact_access_to_character (ex. mercenaries)
- securize "_action_" form-less system, since it bypasses input data validation
- add "stop impersonation" link in menu ?
- allow multi-instance staff impersonation, so that superuser can remain logged everywhere
- better menus for meta admin pages
- better handling of 503 (maintenance) state on both cms and instance
- convert "orbe" to masculine genre ; replace acharis by akharis
- add automated "geoip localization" ability
- memorize "real player authentications", to know who really hacks accounts
- make real "attach to" feature to delegate permissions (ex. for dependent ajax views)
- rethink and repair telecom archive investigation
- add to specific index any (external) visualized document in "personal files"
- setup all select choices with a default empty choice
- add RST summary to all forms, especially admin ones ??? not needed right ATM
- messaging templates filtering by taxonomy ?
- put back accordeon toggles in messaging
- allow accumulation of visibility reasons, to have both sender and recipient together in msg for same user? useless I guess...
- idea of captcha: play with colors illusions!!
- include timezone handling
- use UsageError in all getters of datamanager instead of keyerror?
- include tiny webradio widget in div with same color, and make it bigger, to avoid zoom/dezoom problems.
- internationalize personal documents (all in yaml ??)
- switch to small JALICE bot? humz
- other items needing to be editable:
	- items, gems & artefacts ?
	- nightmare captcha ?
- make better use of titles, of '#' anchors (with id or name of tags)...
- normalize is_character as both bool and method, in DM and User instances
- improve wiretapping - must not be only on characters, but also external emails
- add standard 404 and 500 templates, + custom 403 in latest django etc.


ELITE RPG:
eclectic <-------- BEST
enchanting -> bewitching, captivating, enthralling, entrancing, fascinating
enrapturing
enlightening/edifying



















