function getRandomArbitrary(t,e){return Math.random()*(e-t)+t}function getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t}function draw(){ctx.globalCompositeOperation="xor",ctx.clearRect(0,0,canvas.width,canvas.height),ctx.globalCompositeOperation="lighter",requestAnimFrame(draw);var t=(new Date).getTime();time=t,createCircles(),updateCircles(),renderCircles()}$(function(){function t(){var t=$(window).scrollTop();switch_pos=i,switch_pos<=t?(console.log("test"),$("body").addClass("js-switch")):$("body").removeClass("js-switch")}SyntaxHighlighter.all(),$("body").addClass("loaded");var e=$("#nav").height(),a="#pagetop",n;$("a[href^=#], area[href^=#]").not("a[href=#], area[href=#]").click(function(){if($(this).attr("href")==a)n=0;else{var t=this.hash;n=$(t).offset().top,n-=e}return $("html,body").stop().animate({scrollTop:n},1e3,"easeOutQuart"),!1});var i=$("#main-visual").height();$(window).bind("resize load scroll",function(){t()}),draw()}),window.requestAnimFrame=function(t){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};return function(t){window.setTimeout(t,1e3/36)}}();var canvas,ctx,time,circles=[],max=80;canvas=document.getElementById("c"),ctx=canvas.getContext("2d");var circle={x:0,y:Math.sin(this.x*Math.PI/180)},createCircles=function(){var t="rgba("+getRandomInt(70,150)+","+getRandomInt(70,150)+","+getRandomInt(190,200)+" ,.5)",e=getRandomArbitrary(10,210),a=getRandomInt(6,40),n=getRandomInt(0,canvas.width);circles.length<max&&circles.push({x:n,y:circle.y,r:a,c:t,a:e})},updateCircles=function(){for(var t=circles.length;t--;){var e=circles[t];e.y=Math.sin(e.x*Math.PI/180),e.y>=0&&(e.y=canvas.height/2-(e.y-0)*e.a),e.y<0&&(e.y=canvas.height/2+(0-e.y)*e.a),e.x++,e.x>canvas.width-30&&circles.splice(t,1)}},renderCircles=function(){for(var t=circles.length;t--;){var e=circles[t];ctx.beginPath(),ctx.arc(e.x,e.y,e.r,0,2*Math.PI,!0),ctx.closePath(),ctx.fillStyle=e.c,ctx.shadowBlur=20,ctx.shadowColor=e.c,ctx.fill()}};