
{% extends "metalradiance_scaffold.html" %}
{% load sekizai_tags kwacros i18n helpers%}


{% block sekizai_calls %}
    {{ block.super }}

    {% addtoblock "css" %}
    <link rel="stylesheet" rel="text/css" href="{{ STATIC_URL }}libs/interactive_world_map/css/main.css"/>
    {% endaddtoblock %}

    {% addtoblock "js" %}
    <script src="{{ STATIC_URL }}libs/jquery.mousewheel.js" type="text/javascript"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}libs/jquery.panzoom.js"/></script>
    <script type="text/javascript" src="{{ STATIC_URL }}libs/image_map_resizer/imageMapResizer.min.js"/></script>
    <script type="text/javascript" src="{{ STATIC_URL }}libs/interactive_world_map/js/main.js"/></script>
    {% endaddtoblock %}


    {% addtoblock "definition_js" %}
    {% endaddtoblock %}


    {% addtoblock "onload_js" %}
    {% endaddtoblock %}

{% endblock %}


{% block full_body %}

<div id="small_infobulle"></div>

<div class="Vcentering">

    <div class="placeholder Hcentering">

        <section id="focal" class="conteneurCarte">
            <div class="buttons">
                <button class="zoom-in">Zoom In</button>
                <button class="zoom-out">Zoom Out</button>
                <button class="reset">Reset</button>
            </div>
            
            <div id="pan-parent" class="parent">
                
                <div class="panzoom carteMonde">

                    <img src="{% game_file_url world_map_image %}" usemap="#planetmap" id="imagemap">
                        <map id="map" name="planetmap">
                            {% for place, data in all_locations.items %}
                            
                                {% if data.geolocation|length = 4 %}

                                    <area id="{{place}}_rect" shape="rect"
                                        class="cardRef" coords="{{data.geolocation|join:","}}" alt="{{data.summary|default:summary_fallback}}" href="#{{place}}_rect">

                                {% else %}

                                    <area id="{{place}}_circle" shape="circle" class="cardRef" coords="{{data.geolocation|join:","}}" alt="{{data.summary|default:summary_fallback}}" href="#{{place}}_circle">

                                {% endif %}

                            {% endfor %}
                                    
                        </map>
                    </img>
                </div>
            </div>
        </section>
    </div>
</div>

{% endblock %}
